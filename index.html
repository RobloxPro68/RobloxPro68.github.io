<!DOCTYPE html>
<html>
<head>
  <title>Server Viewer</title>
  <style>
    body {
      background-color: #000;
      color: #0f0;
      font-family: monospace;
      padding: 20px;
    }
    h1, h2 {
      color: #0f0;
    }
    input, button {
      background: #111;
      color: #0f0;
      border: 1px solid #0f0;
      padding: 8px;
      font-size: 16px;
      margin-top: 10px;
    }
    .player {
      border: 1px solid #0f0;
      padding: 10px;
      margin-top: 10px;
    }
    .crash {
      color: red;
    }
    #player-list {
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1>Server Viewer</h1>

  <div id="step-1">
    <p>Enter key:</p>
    <input type="password" id="key-input" placeholder="Enter key...">
    <button onclick="checkKey()">Submit</button>
    <p id="key-error" style="color:red;"></p>
  </div>

  <div id="step-2" style="display:none;">
    <p>Enter number of people in server:</p>
    <input type="number" id="num-input" placeholder="e.g. 5">
    <button onclick="generatePlayers()">Generate</button>
  </div>

  <div id="player-list"></div>

  <div id="crash-section" style="display:none;">
    <h2>Crash Players</h2>
    <input type="text" id="crash-input" placeholder="e.g. 1/2/3">
    <button onclick="crashPlayers()">Crash</button>
  </div>

  <script>
    const correctKey = "secret123";
    const cities = [
      "New York", "Los Angeles", "Chicago", "Houston", "Phoenix", "Philadelphia",
      "San Antonio", "San Diego", "Dallas", "San Jose", "Austin", "Jacksonville",
      "San Francisco", "Indianapolis", "Columbus", "Charlotte", "Fort Worth",
      "Detroit", "El Paso", "Seattle"
    ];

    let players = [];

    function checkKey() {
      const key = document.getElementById("key-input").value;
      const error = document.getElementById("key-error");
      if (key === correctKey) {
        document.getElementById("step-1").style.display = "none";
        document.getElementById("step-2").style.display = "block";
      } else {
        error.textContent = "Incorrect key. Access denied.";
      }
    }

    function generateIP() {
      return Array(4).fill().map(() => Math.floor(Math.random() * 256)).join(".");
    }

    function generateMAC() {
      return Array(6).fill().map(() => {
        let val = Math.floor(Math.random() * 256).toString(16);
        return val.length < 2 ? "0" + val : val;
      }).join(":");
    }

    function generateCity() {
      return cities[Math.floor(Math.random() * cities.length)];
    }

    function generatePlayers() {
      const num = parseInt(document.getElementById("num-input").value);
      if (isNaN(num) || num <= 0) return alert("Invalid number.");

      players = [];
      const container = document.getElementById("player-list");
      container.innerHTML = "<h2>Player List</h2>";

      for (let i = 1; i <= num; i++) {
        const player = {
          id: i,
          ip: generateIP(),
          mac: generateMAC(),
          city: generateCity(),
          crashed: false
        };
        players.push(player);
        container.innerHTML += formatPlayer(player);
      }

      document.getElementById("crash-section").style.display = "block";
    }

    function formatPlayer(player) {
      return `
        <div class="player ${player.crashed ? 'crash' : ''}">
          <strong>Person ${player.id}${player.crashed ? ' (CRASHED)' : ''}</strong><br>
          IP Address: ${player.ip}<br>
          MAC Address: ${player.mac}<br>
          IP Information: ${player.city}, USA
        </div>
      `;
    }

    function crashPlayers() {
      const input = document.getElementById("crash-input").value;
      const ids = input.split("/").map(x => parseInt(x.trim()));
      const container = document.getElementById("player-list");
      container.innerHTML = "<h2>Updated Player List</h2>";

      for (const id of ids) {
        if (!isNaN(id)) {
          const player = players.find(p => p.id === id);
          if (player) {
            player.crashed = true;
          }
        }
      }

      for (const player of players) {
        container.innerHTML += formatPlayer(player);
      }
    }
  </script>

</body>
</html>
